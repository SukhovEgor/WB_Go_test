# Test task L0
# Order Service

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–∞—Ö.  
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ **Go** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Kafka**, **PostgreSQL** –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ HTTP-—Å–µ—Ä–≤–µ—Ä–∞.  
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –∏ –ø—Ä–æ—Å—Ç–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –∏–∑ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (**Kafka**).
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (**PostgreSQL**).
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ.
- HTTP API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –ø–æ `order_uid`.
- –ü—Ä–æ—Å—Ç–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (**HTML + JS**) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ ID.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Kafka** ‚Äì –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –∑–∞–∫–∞–∑–∞—Ö.  
- **PostgreSQL** ‚Äì —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–∫–∞–∑–æ–≤.  
- **Go-—Å–µ—Ä–≤–∏—Å**:
  - –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ Kafka –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è.
  - –ü–∞—Ä—Å–∏—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ë–î.
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫—ç—à –≤ –ø–∞–º—è—Ç–∏ (`map`).
  - –ü–æ–¥–Ω–∏–º–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä:
    - `GET /order/{order_uid}` ‚Äì –ø–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –≤ JSON.
    - `GET /add` ‚Äì —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã.
    - `GET /` ‚Äì –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ñ–æ—Ä–º–æ–π –ø–æ–∏—Å–∫–∞ –∏ –≤—ã–≤–æ–¥–æ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
- **Kafka**
- **PostgreSQL** 

### –¢–∞–±–ª–∏—Ü—ã PostgreSQL

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞:

* `orders`
* `delivery`
* `payment`
* `items`

(—Å–º. `models` –≤ –ø—Ä–æ–µ–∫—Ç–µ)

- –ó–∞–ø—É—Å–∫ Zookeeper:

```bash
  .\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties.
```

- –ó–∞–ø—É—Å–∫ Kafka:

```bash
  .\bin\windows\kafka-server-start.bat .\config\server.properties
```

- –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
  go run main.go
```

- –ü–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É:

```bash
  http://localhost:3000/
```
---

## HTTP API

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ ID

```http
GET /order/{order_uid}
```

–ü—Ä–∏–º–µ—Ä:

```bash
http://localhost:3000/order/test123
```

### –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã

```http
GET /add
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –º–∞—Å—Å–∏–≤–æ–º –∑–∞–∫–∞–∑–æ–≤.

---

## üñ•Ô∏è –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü—Ä–æ—Å—Ç–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`web/index.html`):

* –ö–Ω–æ–ø–∫–∞ ¬´–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑—ã¬ª ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö `order_uid`.
* –ü–æ–ª–µ –≤–≤–æ–¥–∞ `order_uid` ‚Üí –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ (–æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ, –æ–ø–ª–∞—Ç–∞, –¥–æ—Å—Ç–∞–≤–∫–∞, —Ç–æ–≤–∞—Ä—ã).

